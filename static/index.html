<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate Your Voice For Health - Medical Voice Research</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher">
        <button class="lang-btn active" onclick="switchLanguage('en')" id="lang-en">EN</button>
        <button class="lang-btn" onclick="switchLanguage('ar')" id="lang-ar">AR</button>
    </div>

    <!-- Animated background particles -->
    <div class="bg-particles" id="particles"></div>

    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <div class="hero-content">
                <div class="logo-modern">üé§</div>
                <h1 class="hero-title" data-translate="heroTitle">Donate Your Voice For Health</h1>
                <p class="hero-subtitle" data-translate="heroSubtitle">
                    Help us unlock the potential of voice for early health detection. Your donation helps train AI to identify signs of chronic conditions in just 30 seconds of speech‚Äîbuilding proactive healthcare for everyone.
                </p>
                <div class="trust-badges">
                    <div class="trust-badge">
                        <span>‚úì</span>
                        <span data-translate="trustBadge1">HIPAA Secure</span>
                    </div>
                    <div class="trust-badge">
                        <span>üõ°Ô∏è</span>
                        <span data-translate="trustBadge2">Anonymous</span>
                    </div>
                    <div class="trust-badge">
                        <span>üî¨</span>
                        <span data-translate="trustBadge3">AI-Powered</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 1: Welcome -->
        <div class="step active" id="step1">
            <div class="glass-card">
                <div class="step-header">
                    <div class="step-icon" data-translate="step1Icon">üöÄ</div>
                    <div>
                        <h2 class="step-title" data-translate="step1Title">Your Voice, Our Future</h2>
                    </div>
                </div>
                <p style="font-size: 1.15rem; line-height: 1.7; color: var(--gray-600); margin-bottom: 40px;" data-translate="step1Text">
                    Every voice carries hidden health insights. Your unique vocal patterns hold clues that could transform how we detect and prevent illness. Help us build the foundation for accessible healthcare worldwide.
                </p>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" data-translate="stat1Number">60+</div>
                        <div class="stat-label" data-translate="stat1Label">Voice features analyzed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" data-translate="stat2Number">30s</div>
                        <div class="stat-label" data-translate="stat2Label">Time to contribute</div>
                    </div>
                </div>

                <button class="btn btn-primary btn-wide" onclick="nextStep()">
                    <span data-translate="step1Button">Begin Your Contribution</span>
                    <span>‚Üí</span>
                </button>
            </div>
        </div>

        <!-- Step 2: Health Questionnaire -->
        <div class="step" id="step2">
            <div class="glass-card">
                <div class="step-header">
                    <div class="step-icon" data-translate="step2Icon">üí¨</div>
                    <div>
                        <h2 class="step-title" data-translate="step2Title">Health Questionnaire</h2>
                        <p style="color: var(--gray-600); margin-top: 8px;" data-translate="step2Subtitle">Anonymous data helps train our AI models</p>
                    </div>
                </div>

                <form id="questionnaireForm" class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="donationLanguage" data-translate="donationLanguageLabel">Recording Language</label>
                        <select class="form-select" id="donationLanguage" name="donationLanguage" required>
                            <option value="" data-translate="donationLanguageSelect">Select the language for your voice recording</option>
                            <option value="english" data-translate="donationLanguageEnglish">English</option>
                            <option value="arabic" data-translate="donationLanguageArabic">Arabic</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="ageGroup" data-translate="ageLabel">Age Range</label>
                        <select class="form-select" id="ageGroup" name="ageGroup" required>
                            <option value="" data-translate="ageSelect">Select your age range</option>
                            <option value="18-25" data-translate="age1825">18-25 years</option>
                            <option value="26-35" data-translate="age2635">26-35 years</option>
                            <option value="36-45" data-translate="age3645">36-45 years</option>
                            <option value="46-55" data-translate="age4655">46-55 years</option>
                            <option value="56-65" data-translate="age5665">56-65 years</option>
                            <option value="66-75" data-translate="age6675">66-75 years</option>
                            <option value="76+" data-translate="age76plus">76+ years</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-translate="conditionsLabel">Health Conditions (Select all that apply)</label>
                        <div class="checkbox-grid" id="chronicConditionCheckboxes">
                            <div class="checkbox-card">
                                <div class="checkbox-content">
                                    <input type="checkbox" id="condition_none" name="chronicConditions" value="none" class="checkbox-input">
                                    <label for="condition_none" class="checkbox-label" data-translate="conditionNone">None</label>
                                </div>
                            </div>
                            <div class="checkbox-card">
                                <div class="checkbox-content">
                                    <input type="checkbox" id="condition_respiratory" name="chronicConditions" value="respiratory" class="checkbox-input">
                                    <label for="condition_respiratory" class="checkbox-label" data-translate="conditionRespiratory">Respiratory (Asthma, COPD)</label>
                                </div>
                            </div>
                            <div class="checkbox-card">
                                <div class="checkbox-content">
                                    <input type="checkbox" id="condition_neurological" name="chronicConditions" value="neurological" class="checkbox-input">
                                    <label for="condition_neurological" class="checkbox-label" data-translate="conditionNeurological">Neurological (Parkinson's, MS)</label>
                                </div>
                            </div>
                            <div class="checkbox-card">
                                <div class="checkbox-content">
                                    <input type="checkbox" id="condition_cardiovascular" name="chronicConditions" value="cardiovascular" class="checkbox-input">
                                    <label for="condition_cardiovascular" class="checkbox-label" data-translate="conditionCardiovascular">Cardiovascular (Heart disease)</label>
                                </div>
                            </div>
                            <div class="checkbox-card">
                                <div class="checkbox-content">
                                    <input type="checkbox" id="condition_other" name="chronicConditions" value="other" class="checkbox-input">
                                    <label for="condition_other" class="checkbox-label" data-translate="conditionOther">Other chronic condition</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group hidden" id="otherConditionGroup">
                        <label class="form-label" for="otherCondition" data-translate="otherConditionLabel">Please specify your chronic condition</label>
                        <input type="text" class="form-input" id="otherCondition" name="otherCondition" data-translate="otherConditionPlaceholder" placeholder="Describe your condition">
                    </div>

                    <div class="form-group hidden" id="respiratorySeverityGroup">
                        <label class="form-label" for="respiratorySeverity" data-translate="respiratorySeverityLabel">Please select the severity of your respiratory condition</label>
                        <select class="form-select" id="respiratorySeverity" name="respiratorySeverity">
                            <option value="" data-translate="severitySelect">Select severity</option>
                            <option value="mild" data-translate="severityMild">Mild</option>
                            <option value="medium" data-translate="severityMedium">Medium</option>
                            <option value="severe" data-translate="severitySevere">Severe</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="voiceProblems" data-translate="voiceProblemsLabel">Voice Problems</label>
                        <select class="form-select" id="voiceProblems" name="voiceProblems" required>
                            <option value="" data-translate="voiceProblemsSelect">Select voice problems (if any)</option>
                            <option value="none" data-translate="voiceProblemNone">None</option>
                            <option value="vocal_nodules" data-translate="voiceProblemNodules">Vocal nodules</option>
                            <option value="vocal_polyps" data-translate="voiceProblemPolyps">Vocal polyps</option>
                            <option value="vocal_paralysis" data-translate="voiceProblemParalysis">Vocal cord paralysis</option>
                            <option value="chronic_laryngitis" data-translate="voiceProblemLaryngitis">Chronic laryngitis</option>
                            <option value="other" data-translate="voiceProblemOther">Other voice problem</option>
                        </select>
                    </div>

                    <div class="form-group hidden" id="otherVoiceProblemGroup">
                        <label class="form-label" for="otherVoiceProblem" data-translate="otherVoiceProblemLabel">Please specify your voice problem</label>
                        <input type="text" class="form-input" id="otherVoiceProblem" name="otherVoiceProblem" data-translate="otherVoiceProblemPlaceholder" placeholder="Describe your voice problem">
                    </div>
                </form>

                <button class="btn btn-primary btn-wide" id="continueButton" onclick="nextStep()" disabled>
                    <span data-translate="continueButton">Continue to Voice Recording</span>
                </button>
            </div>
        </div>

        <!-- Step 3: Voice Recording -->
        <div class="step" id="step3">
            <div class="glass-card">
                <div class="step-header">
                    <div class="step-icon">üéôÔ∏è</div>
                    <div>
                        <h2 class="step-title" data-translate="step3Title">Voice Recording</h2>
                    </div>
                </div>
                <p style="margin-bottom: 30px; color: var(--gray-600); text-align: center;" data-translate="step3Subtitle">
                    Please describe what you see in the image below. Speak naturally for at least 30 seconds.
                </p>

                <div class="picture-showcase">
                    <img id="randomPicture" class="picture-display" src="" alt="Describe this image">
                    <div class="picture-instruction" data-translate="recordingInstruction">
                        Describe what you see in this image - the people, activities, setting, and any details you notice.
                    </div>
                </div>

                <div class="recording-section">
                    <button class="record-button" id="recordButton" onclick="toggleRecording()">
                        <span id="recordIcon">üé§</span>
                    </button>
                    <div class="recording-status" id="recordingStatus" data-translate="recordingStatusStart">Click to start recording</div>
                    <div class="recording-timer" id="recordingTimer">00:00</div>
                    <div id="audioPlayback" class="hidden" style="margin-top: 20px;">
                        <audio controls id="audioPlayer" style="width: 100%; margin-bottom: 20px;"></audio>
                        <button class="btn btn-primary btn-wide" onclick="nextStep()">
                            <span data-translate="submitButton">Submit Your Donation</span>
                        </button>
                        <p style="font-size: 0.75rem; color: var(--gray-500); margin-top: 12px; line-height: 1.4;" data-translate="consentText">
                            By submitting, you grant consent for anonymous use of your voice recording in health research, with data stored securely indefinitely for ongoing scientific analysis.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: Processing -->
        <div class="step" id="processingStep">
            <div class="glass-card">
                <div class="step-header">
                    <div class="step-icon">üß†</div>
                    <h2 class="step-title" data-translate="processingTitle">Analyzing Your Voice</h2>
                </div>
                <div class="processing-section">
                    <div class="processing-spinner">
                        <div class="spinner-ring"></div>
                    </div>
                    <div class="processing-text">
                        <div class="processing-title" data-translate="processingSubtitle">Processing Audio Features</div>
                        <div class="processing-subtitle" data-translate="processingDescription">
                            Our AI is extracting over 60 vocal biomarkers from your recording.
                            This analysis helps researchers identify subtle voice patterns
                            that could indicate early signs of health conditions.
                        </div>
                    </div>

                    <div class="feature-grid">
                        <div class="feature-item" data-translate="feature1">‚úì Pitch patterns</div>
                        <div class="feature-item" data-translate="feature2">‚úì Voice quality</div>
                        <div class="feature-item" data-translate="feature3">‚úì Speech rhythm</div>
                        <div class="feature-item" data-translate="feature4">‚úì Spectral features</div>
                        <div class="feature-item" data-translate="feature5">‚úì Intensity measures</div>
                        <div class="feature-item" data-translate="feature6">‚úì Formant frequencies</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 5: Thank You -->
        <div class="step" id="step5">
            <div class="success-section">
                <div class="success-content">
                    <div class="success-icon" data-translate="successIcon">üéâ</div>
                    <h2 class="success-title" data-translate="successTitle">Thank You!</h2>
                    <p class="success-subtitle" data-translate="successSubtitle">
                        Your voice sample has been successfully submitted and will contribute to life-changing voice analytics research.
                    </p>
                    <div class="donation-id" id="donationId">
                        Donation ID: Loading...
                    </div>
                    <p style="font-size: 1rem; opacity: 0.9;" data-translate="successDescription">
                        Your anonymous donation contributes to developing AI that can detect health conditions years before symptoms appear, bringing proactive healthcare within reach for everyone.
                    </p>
                </div>
            </div>

            <!-- Privacy note outside the green block -->
            <div style="text-align: center; margin-top: 20px;">
                <p style="font-size: 0.75rem; color: var(--gray-500); line-height: 1.4; max-width: 600px; margin: 0 auto;" data-translate="privacyNote">
                    Your data is stored securely and used anonymously for health research. To request removal of your donation, please email privacy@munsait.com and include your Donation ID above for faster processing.
                </p>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>